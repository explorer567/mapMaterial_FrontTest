<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./leaflet.css" />
    <script src="./leaflet.js"></script>
    <style>
      #map {
        width: 100%;
        height: 100vh;
        position: absolute;
        left: 0;
        top: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
  </body>
  <script>
    const map = new L.map("map", {
      center: [29.4234234, 120.646456],
      zoom: 8,
      crs: L.CRS.EPSG4326,
    });
    let poi = [
      { name: "希望小学", lon: "124.789412", lat: "47.347325", type: "school" },
      { name: "蜜雪冰城", lon: "103.007012", lat: "39.53535", type: "school" },
      { name: "天猫超市", lon: "117.872028", lat: "27.100653", type: "market" },
      { name: "如家酒店", lon: "124.642233", lat: "48.042886", type: "market" },
      { name: "人民医院", lon: "87.038159", lat: "31.42261", type: "hospital" },
      { name: "和平饭店", lon: "117.038159", lat: "31.62261", type: "school" },
      {
        name: "胖东来超市",
        lon: "107.038159",
        lat: "30.42261",
        type: "market",
      },
      { name: "银泰城", lon: "121.038159", lat: "29.42261", type: "market" },
      { name: "海底捞", lon: "111.038159", lat: "28.42261", type: "school" },
    ];
    addPOI(poi);
    function addPOI(data) {
      data.forEach((d) => {
        let url = "";
        if (d.type === "market") {
          url = "./icons/a.png";
        } else if (d.type === "school") {
          url = "./icons/b.png";
        } else {
          url = "./icons/c.png";
        }
        const myIcon = L.icon({
          iconUrl: url,
          iconSize: [30, 30],
        });
        L.marker([parseFloat(d.lat), parseFloat(d.lon)], {
          icon: myIcon,
        }).addTo(map);
      });
    }
  </script>
</html>
